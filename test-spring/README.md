# 1. 스프링 테스트

## 1-1. 테스트의 종류
- 단위 테스트
- 통합 테스트
- 기능 테스트
- 시스템 테스트
- 성능 테스트
- 인수 테스트

## 1-2. 단위/통합 테스트 작성

## 과제

- 애스플리케이션 모듈을 따로 분리해서 테스트 한 후 다시 조합해서 테스트

## 해결책

- 단위테스트: 하나의 프로그램 단위(클래스, 메서드)를 테스트
- 하나의 단위가 독립적으로 움직이는 일이 거의 없고 다른 단위와 함께 작동하는 경우가 대부분
- 다른 단위와 의존관계를 지닌 단위를 테스트 할때는 스텁이나 목 객체로 단위 간 의존 관계를 모방해서 테스트의 복잡도를 낮춘다.
- 스텁: 테스트에 필요한 최소한의 메서드 만으로 의존 객체를 시뮬레이션한 객체, 대기 상태를 검증
- 목 객체: 자신의 메서드를 테스트 코드가 어떤식으로 호출할거라 기대, 수행 로직을 검증
- 구현코드와 인터페이스의 분리, DI 패턴 -> 단위간의 결합도를 줄일 수 있으므로 테스트가 쉬워진다.

## Stub
 
- Service 객체를 테스트 하고 싶은데 Service 객체는 Dao 객체에 의존하고 있다.
- Dao 객체에 대한 의존 관계로 빚어진 복잡도를 줄이기 위해서 Dao 인터페이스를 구현하여 Stub 객체를 만든다.
- Service 의 deposit() 과 withdraw() 를 테스트 하고 싶다면 이와 연관된 Stub 객체의 findAccount(), updateAccount() 를 간단하게 구현하자.


## Mock (Mockito)

- Mockito.when().thenReturn() -> 단순 결과 값
- Mockito.when().thanAnswer(new Answer(){}) -> 동작을 구현
- verify(객체, times(횟수)).함수(param) : 객체.함수가 몇번 실행했나 판단.
